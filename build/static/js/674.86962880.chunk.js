"use strict";(self.webpackChunkadmin_login_react=self.webpackChunkadmin_login_react||[]).push([[674],{674:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});const l="login_login_content__c7X9w",r="login_login_btn_wrp__DGLHB",i="login_login_btn__-Ne0Q",o="login_form-group__2X2Yb",n="login_invalid__XCRp0";var d=s(2791),t=s(7689),c=s(338),m=s(5019),u=s(3006),v=s(9434),g=s(1185),_=s(184);let p;const h=e=>{const a=(0,t.s0)(),[s,h]=(0,d.useState)({email_id:{value:"",err:!1},password:{value:"",err:!1}}),[w,x]=(0,d.useState)({showErr:!1}),[b,j]=(0,d.useState)({LoggedIn:!1}),N=((0,v.v9)((e=>e.adminDetails)),(0,v.I0)()),I=e=>{console.log(s),console.log(e.target.value);const a=e.target.name,l=e.target.value,r=""===l;h((e=>({...e,[a]:{value:l,err:r}})))};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)("h3",{className:"text-center mt-5 my-2 mb-4",children:"Log In"}),(0,_.jsx)("div",{className:" ".concat(r),children:(0,_.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded-2 ".concat(l),children:[(0,_.jsxs)("form",{action:"#",onSubmit:e=>{e.preventDefault(),""==s.email_id.value||""==s.password.value?p++:p=0;return 0==p?(0,m.b0)(s.email_id.value,s.password.value).then((e=>{"Login successful"==e.message?(console.log(e,"success"),console.log(e.admin.id),localStorage.setItem("adminID",e.admin.id),N(g.L1.setAdminLoginDetails({adminID:e.admin.id,privileges:e.roles[0].privileges,roleID:e.roles[0].roleId,emailID:e.roles[0].emailID,isActive:e.roles[0].isActive,userName:e.roles[0].userName,module:e.roles[0].module})),a("/Dashboard"),x((e=>({...e,showErr:!1})))):x((e=>({...e,showErr:!0})))})).catch((e=>{x((e=>({...e,showErr:!0}))),j((e=>({...e,LoggedIn:!1})))})):""==s.email_id.value&&""==s.password.value?h((e=>({...e,email_id:{value:"",err:!0},password:{value:"",err:!0}}))):(""==s.password.value&&h((e=>({...e,email_id:{value:"",err:!1},password:{value:"",err:!0}}))),""==s.email_id.value&&h((e=>({...e,email_id:{value:"",err:!0},password:{value:"",err:!1}})))),!1},children:[(0,_.jsxs)("div",{className:" ".concat(o," ").concat(s.email_id.err&&n),children:[(0,_.jsx)(u.Z,{type:"email",onChange:e=>{I(e)},className:"form-control mt-4",name:"email_id",id:"email_id",value:s.email_id.value,label:"Email ID",variant:"outlined"}),s.email_id.err&&(0,_.jsx)("p",{className:"text-danger my-3",children:"Enter Email ID"})]}),(0,_.jsxs)("div",{className:" ".concat(o," ").concat(s.password.err&&n),children:[(0,_.jsx)(u.Z,{type:"password",className:"form-control  mt-4 ",name:"password",id:"password",value:s.password.value,onChange:I,label:"Password",variant:"outlined"}),s.password.err&&(0,_.jsx)("p",{className:"text-danger my-3",children:"Enter password"})]}),(0,_.jsx)("div",{className:"mt-5 ".concat(r),children:(0,_.jsx)(c.Z,{variant:"contained",type:"submit",className:i,color:"",style:{backgroundColor:"#169C50",color:"#ffff"},children:"Log In"})})]}),(0,_.jsx)("div",{children:w.showErr&&(0,_.jsx)("p",{className:"text-danger my-1",children:"Invalid Credentials"})})]})})]})})}}}]);
//# sourceMappingURL=674.86962880.chunk.js.map