"use strict";(self.webpackChunkadmin_login_react=self.webpackChunkadmin_login_react||[]).push([[104],{2104:(e,a,t)=>{t.r(a),t.d(a,{default:()=>L});var s=t(8745),l=t(9281),n=t(9836),i=t(6890),o=t(5855),r=t(3382),c=t(2739),d=t(3239),u=t(6314),m=t(7246),p=t(2791),x=t(9129),h=t(2105),b=t(8789),j=t(618),y=t(9434),g=t(5019),v=t(1185),f=t(751),N=t(1711),C=t(8820),S=t(7692),k=t(5770),D=t(3006),Z=t(8096),T=t(5117),w=t(4387),F=t(184);const E=function(){const e=(0,y.v9)((e=>e.JobsDetailsDetails.JobsData)),a=(0,y.v9)((e=>e.JobsDetailsDetails.refreshRedDot)),t=(0,y.v9)((e=>e.JobsDetailsDetails.createdTime)),s=(0,y.v9)((e=>e.JobsDetailsDetails.endDate)),[l,n]=(0,p.useState)(!1),i=(0,y.I0)(),[o,r]=(0,p.useState)([]),[c,d]=(0,p.useState)([]),[m,x]=(0,p.useState)([]),[b,j]=p.useState(null),[E,I]=(0,p.useState)(!1),L=Boolean(b),[M,J]=(0,p.useState)({start:!1,end:!1});(0,y.v9)((e=>e.adminDetails));let _={assignTo:localStorage.getItem("adminID"),priority:null,companyName:"",area:[],benefits:[],gender:null,industry:[],jobCategory:[],jobExp:-1,jobMaxExp:-1,jobLocation:[],keyskills:[],qualification:[],employerId:-1,salary:-1,maxSalary:-1,pages:1,size:10,createdTime:"2021-01-01",endDate:(0,f.BB)(new Date),dateFilterType:""};const[q,z]=(0,p.useState)({industry:[],jobCategory:[],keyskills:[],qualification:[],area:[],jobLocation:[]}),[W,O]=(0,p.useState)({assignTo:localStorage.getItem("adminID"),priority:e.priority,companyName:e.companyName,area:e.area,benefits:e.benefits,gender:e.gender,industry:e.industry,jobCategory:e.jobCategory,jobExp:e.jobExp,jobMaxExp:e.jobMaxExp,jobLocation:e.jobLocation,keyskills:e.keyskills,qualification:e.qualification,employerId:e.employerId,salary:e.salary,maxSalary:e.maxSalary,pages:e.pages,size:e.size,createdTime:e.createdTime,endDate:e.endDate}),[R,B]=(0,p.useState)(!1),[P,G]=(0,p.useState)({start:e.createdTime,end:e.endDate,dateFilterType:e.dateFilterType});(0,p.useEffect)((()=>{(0,g.aU)().then((e=>{x(e)}))}),[]),(0,p.useEffect)((()=>{0!==c.length&&c.forEach((e=>{switch(e.category){case"areas":O((a=>{let t=[...a.area];return t.includes(e.options)?t=c.filter((e=>"areas"===e.category)).map((e=>e.options)):t.push(e.options),{...a,area:t}}));break;case"benefits":O((a=>{let t=[...a.benefits];return t.includes(e.options)?t=c.filter((e=>"benefits"===e.category)).map((e=>e.options)):t.push(e.options),{...a,benefits:t}}));break;case"skills":O((a=>{let t=[...a.keyskills];return t.includes(e.options)?t=c.filter((e=>"skills"===e.category)).map((e=>e.options)):t.push(e.options),{...a,keyskills:t}}));break;case"qualification":O((a=>{let t=[...a.qualification];return t.includes(e.options)?t=c.filter((e=>"qualification"===e.category)).map((e=>e.options)):t.push(e.options),{...a,qualification:t}}));break;case"industry":O((a=>{let t=[...a.industry];return t.includes(e.options)?t=c.filter((e=>"industry"===e.category)).map((e=>e.options)):t.push(e.options),{...a,industry:t}}));break;case"city":O((a=>{let t=[...a.jobLocation];return t.includes(e.options)?t=c.filter((e=>"city"===e.category)).map((e=>e.options)):t.push(e.options),{...a,jobLocation:t}}));break;case"job category":O((a=>{let t=[...a.jobCategory];return t.includes(e.options)?t=c.filter((e=>"job category"===e.category)).map((e=>e.options)):t.push(e.options),{...a,jobCategory:t}}))}}));let e=c.map((e=>e.category));e.includes("areas")||O((e=>({...e,area:[]}))),e.includes("benefits")||O((e=>({...e,benefits:[]}))),e.includes("skills")||O((e=>({...e,keyskills:[]}))),e.includes("qualification")||O((e=>({...e,qualification:[]}))),e.includes("industry")||O((e=>({...e,industry:[]}))),e.includes("city")||O((e=>({...e,jobLocation:[]}))),e.includes("job category")||O((e=>({...e,jobCategory:[]})))}),[c]);const H=e=>{let a=e;const t=new Date;let s=new Date;if("lastWeek"===a){const e=new Date;e.setDate(t.getDate()-7),G((a=>({...a,dateFilterType:"Last 1 Week",start:e.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null)}else if("today"===a)G((e=>({...e,dateFilterType:"Today",start:t.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null);else if("lastMonth"===a){const e=new Date;e.setMonth(e.getMonth()-1),G((a=>({...a,dateFilterType:"Last Month",start:e.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null)}else if("lastTwoWeeks"===a){const e=new Date(t);e.setDate(t.getDate()-13),G((a=>({...a,dateFilterType:"Last 2 Week",start:e.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null)}else"custom"===a&&(I(!0),j(null))};function A(e,a){const t=e.target.value;"startDate"===a?(G((e=>({...e,start:t,dateFilterType:"custom"}))),J((e=>({...e,start:!1})))):(G((e=>({...e,end:t,dateFilterType:"custom"}))),J((e=>({...e,end:!1}))))}(0,p.useEffect)((()=>{console.log(W)}),[W]);const Q=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"}],X=e=>{const{value:a,name:t}=e.target;console.log(e),console.log(a,t),"minExperience"===t?O((e=>({...e,jobExp:a}))):"maxExperience"===t&&O((e=>({...e,jobMaxExp:a})))},U=e=>{const{value:a,id:t}=e.target;"minSalary"===t&&O(-1!=a?e=>({...e,salary:a}):e=>({...e,salary:-1})),"maxSalary"===t&&O(-1!=a?e=>({...e,maxSalary:a}):e=>({...e,maxSalary:-1}))};return(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:"d-flex justify-content-end",children:(0,F.jsxs)("button",{className:"rounded-pill d-flex align-items-center ".concat(h.Z.Filterbutton),variant:"contained",onClick:()=>n(!0),children:[(0,F.jsx)(S.Ol$,{}),(0,F.jsx)("p",{style:{backgroundColor:a?"red":"transparent",width:"8px",height:"8px",borderRadius:"50%"}}),"Filter"]})}),l&&(0,F.jsx)(f.Xf,{children:(0,F.jsx)(N.Z,{childComponent:(0,F.jsxs)(F.Fragment,{children:[" ",(0,F.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,F.jsx)("h4",{className:"text-center mb-2",children:"Filter by"}),(0,F.jsx)("h3",{children:(0,F.jsx)("span",{onClick:function(a){a.preventDefault(),i(v.R6.setJobsData({...W,createdTime:P.start,endDate:P.end,pages:1,size:e.size,dateFilterType:P.dateFilterType})),n(!1)},className:"btn btn-outline-danger",style:{cursor:"pointer",fontSize:15},children:(0,F.jsx)(C.oHP,{})})})]}),(0,F.jsx)("div",{className:"".concat(h.Z.BoxContainerWidth),children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("form",{onSubmit:a=>{(a=>{a.preventDefault(),i(v.R6.setJobsData({...W,createdTime:P.start||t,endDate:P.end||s,pages:1,size:e.size,dateFilterType:P.dateFilterType||""}));const l=W.priority||W.companyName||W.area||W.benefits||W.gender||W.industry||W.jobCategory||W.jobExp||W.jobMaxExp||W.jobLocation||W.keyskills||W.qualification||W.employerId||W.salary||W.maxSalary||P.start||P.end;i(v.R6.setJobsRedDot(l)),n(!1)})(a)},children:(0,F.jsxs)(u.Z,{className:"mt-1",children:[" ",(0,F.jsxs)("div",{className:"row",children:[(0,F.jsxs)("div",{className:"col-sm-9",children:[" ",(0,F.jsx)(k.Z,{multiple:!0,id:"tags-outlined",className:"",options:m.map((e=>e)),getOptionLabel:e=>"".concat(e.options," (").concat(e.category,")"),value:c,filterSelectedOptions:!0,onChange:(e,a)=>{console.log(a,"values"),d(a)},renderInput:e=>(0,F.jsx)(D.Z,{...e,label:"Select Option",placeholder:"Area,City,Industry,Job Category,Benifits,Skills,Qualification"})})]}),(0,F.jsx)("div",{className:"col-sm-3",children:(0,F.jsx)(D.Z,{fullWidth:!0,label:"Company Name",name:"companyName",placeholder:"Company Name",value:W.companyName,onChange:e=>{return a="companyName",t=e.target.value,void("companyName"===a&&O({...W,[a]:t}));var a,t}})})]}),(0,F.jsxs)("div",{className:"row",children:[(0,F.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,F.jsxs)(Z.Z,{variant:"outlined",fullWidth:!0,children:[(0,F.jsx)(D.Z,{label:"Created on",id:"basic-button",value:"".concat(P.dateFilterType),"aria-controls":L?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":L?"true":void 0,onClick:e=>{j(e.currentTarget)}}),(0,F.jsxs)(T.Z,{id:"basic-menu",anchorEl:b,open:L,onClose:()=>{j(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,F.jsx)(w.Z,{onClick:()=>{H("today")},style:{width:"250px"},children:"Today"}),(0,F.jsx)(w.Z,{onClick:()=>{H("lastWeek")},children:"Last 1 Week"}),(0,F.jsx)(w.Z,{onClick:()=>{H("lastTwoWeeks")},children:"Last 2 Week"}),(0,F.jsx)(w.Z,{onClick:()=>{H("lastMonth")},children:"Last Month"}),(0,F.jsx)(w.Z,{onClick:()=>{H("custom")},children:"Custom Date"})]})]}),E&&(0,F.jsx)(f.Xf,{children:(0,F.jsx)(N.Z,{zIndex:1005,childComponent:(0,F.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{children:(0,F.jsxs)("form",{children:[(0,F.jsxs)("p",{className:"text-center ",children:["Select Custom Date"," "]}),(0,F.jsxs)("div",{className:"mt-2",children:[(0,F.jsx)("label",{htmlFor:"start",children:"From"}),(0,F.jsx)("input",{className:"form-control ".concat(M.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>A(e,"startDate"),value:P.start,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),M.start&&(0,F.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,F.jsxs)("div",{className:"mt-2",children:[(0,F.jsx)("label",{htmlFor:"end",children:"To"}),(0,F.jsx)("input",{className:"form-control ".concat(M.end?"is-invalid":""),value:P.end,style:{width:"100%"},type:"date",id:"end",onChange:e=>A(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),M.end&&(0,F.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,F.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,F.jsx)("button",{onClick:()=>{J({start:!1,end:!1}),I(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,F.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=P.start&&P.end;return P.start||J((e=>({...e,start:!0}))),P.end||J((e=>({...e,end:!0}))),e})()&&(console.log("Form submitted:",P),J({start:!1,end:!1}),I(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]}),(0,F.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,F.jsx)(k.Z,{id:"priority",name:"priority",disableClearable:!0,onChange:(e,a,t)=>((e,a)=>{console.log(e,a,"valueeeeeeeeeeeeee"),O(null!==e?a=>({...a,priority:e}):e=>({...e,priority:null}))})(a,t),options:[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}].map((e=>e.label)),value:W.priority,renderInput:e=>(0,F.jsx)(D.Z,{...e,label:"Priority",InputProps:{...e.InputProps,type:"search"}})})]}),(0,F.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,F.jsx)(D.Z,{onChange:e=>X(e),name:"minExperience",id:"minExperience",className:"form-control",select:!0,label:"Min Experience",value:W.jobExp,children:Q.map((e=>(0,F.jsx)(w.Z,{value:e.value,children:e.label},e.value)))})]}),(0,F.jsx)("div",{className:"col-sm-3 mt-3",children:(0,F.jsx)(D.Z,{onChange:e=>X(e),name:"maxExperience",id:"maxExperience",className:"form-control",select:!0,label:"Max Experience",value:W.jobMaxExp,children:Q.map((e=>(0,F.jsx)(w.Z,{value:e.value,children:e.label},e.value)))})}),(0,F.jsx)("div",{className:"col-sm-3 mt-3",children:(0,F.jsx)(D.Z,{onChange:e=>{U(e)},value:-1===W.salary?"":W.salary,className:"form-control",type:"number",id:"minSalary",label:"Min Salary",variant:"outlined",fullWidth:!0})}),(0,F.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,F.jsx)(D.Z,{type:"number",onChange:e=>{U(e)},value:-1===W.maxSalary?"":W.maxSalary,className:"form-control",id:"maxSalary",label:"Max Salary",variant:"outlined",fullWidth:!0})]}),(0,F.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,F.jsx)(D.Z,{onChange:e=>(e=>{const{value:a,name:t}=e.target;"Gender"===t&&O((e=>({...e,gender:a})))})(e),name:"Gender",id:"Gender",className:"form-control",select:!0,label:"Gender",value:W.gender,children:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}].map((e=>(0,F.jsx)(w.Z,{value:e.value,children:e.label},e.value)))})]})]}),(0,F.jsx)("div",{className:"row"}),(0,F.jsxs)("div",{className:"d-flex flex-row gap-2 justify-content-end mt-4",children:[(0,F.jsx)("button",{className:"rounded-pill ".concat(h.Z.Filterbutton),variant:"outlined",onClick:e=>{!function(e){e.preventDefault(),i(v.R6.setJobsData(_)),G({start:"2020-01-01",end:(0,f.BB)(new Date),dateFilterType:""}),d([]),O(_),B(!1),i(v.R6.setJobsRedDot(!1))}(e)},children:"Clear All"}),(0,F.jsx)("button",{className:"rounded-pill ".concat(h.Z.search),type:"submit",variant:"contained",sx:{minWidth:"150px"},children:"Search"})]})]})})})})]})})})]})},I=(0,b.ZP)(s.Z)((e=>{let{theme:a}=e;return{["&.".concat(j.Z.head)]:{backgroundColor:"#d2d2d2",color:"#545454f0","@media (max-width: 992px)":{}},["&.".concat(j.Z.body)]:{fontSize:14,"@media (max-width: 992px)":{}}}}));const L=function(){const e=(0,y.v9)((e=>e.JobsDetailsDetails.JobsList)),a=(0,y.I0)(),[t,b]=(0,p.useState)(),[j,N]=(0,p.useState)(!1),C=(0,y.v9)((e=>e.JobsDetailsDetails.JobsData));return(0,p.useEffect)((()=>{console.log(e)}),[e]),(0,p.useEffect)((()=>{(0,g.QG)(C).then((e=>{console.log(e,"data"),a(v.R6.setJobList(e)),b(Math.ceil((e.length>0?e[0].total_count:10)/C.size))}))}),[C]),(0,F.jsxs)(F.Fragment,{children:[" ",(0,F.jsxs)("div",{className:"".concat(h.Z.FilterHead),children:[" ",(0,F.jsxs)("div",{className:"d-flex ",children:["Show ","  ",(0,F.jsxs)("select",{name:"",id:"",className:"px-1 py-1 mx-2",onChange:e=>{return t=e.target.value,void a(v.R6.setJobsDatasize(t));var t},children:[(0,F.jsx)("option",{selected:!0,value:"10",children:"10"}),(0,F.jsx)("option",{value:"20",children:"20"}),(0,F.jsx)("option",{value:"30",children:"30"})]}),"   ","Entries"]}),(0,F.jsx)("div",{className:"p-1 success me-2 mx-2 ms-auto",onClick:()=>{N(!0),a(v.R6.setJobList({assignTo:localStorage.getItem("adminID"),priority:null,companyName:"",area:[],benefits:[],gender:null,industry:[],jobCategory:[],jobExp:-1,jobMaxExp:-1,jobLocation:[],keyskills:[],qualification:[],employerId:-1,salary:-1,maxSalary:-1,pages:1,size:10,createdTime:"2021-01-01",endDate:(0,f.BB)(new Date)})),(0,g.QG)(C).then((e=>{console.log(e,"data"),a(v.R6.setJobList(e)),b(Math.ceil((e.length>0?e[0].total_count:10)/C.size))})).finally((()=>{N(!1)}))},children:(0,F.jsx)(x.t11,{})}),(0,F.jsx)(E,{})]}),(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:"".concat(h.Z.Container),children:(0,F.jsx)("div",{className:"table-responsive-sm ".concat(h.Z.responsive),children:(0,F.jsxs)("div",{style:{minWidth:300},children:[(0,F.jsx)(l.Z,{className:"".concat(h.Z.TableContainer),children:(0,F.jsxs)(n.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"",children:[(0,F.jsx)(i.Z,{className:"".concat(h.Z.Header),children:(0,F.jsxs)(o.Z,{children:[(0,F.jsx)(I,{children:"Company Name"}),(0,F.jsx)(I,{children:"Mobile Number"}),(0,F.jsx)(I,{children:"Job Category"}),(0,F.jsx)(I,{children:"Qualification"}),(0,F.jsx)(I,{children:"City"}),(0,F.jsx)(I,{children:"Area"})," ",(0,F.jsx)(I,{children:"Created on"}),(0,F.jsx)(I,{children:"Status"})]})}),(0,F.jsx)(r.Z,{children:e.length>0?(0,F.jsx)(F.Fragment,{children:e.map(((e,t)=>(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(o.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,F.jsx)(I,{style:{cursor:"pointer"},className:"text-primary ",title:e.company_name,onClick:()=>{var t;t=e.job_id,a(v.MT.setShowPopup({name:"jobDetails",id:t}))},children:e.company_name?(0,f.Th)((0,f.Ls)(e.company_name),20):"-"}),(0,F.jsx)(I,{children:e.mobile_number?String(e.mobile_number).slice(0,10):"-"}),(0,F.jsx)(I,{title:e.job_category,children:e.job_category?(0,f.Th)((0,f.Ls)(e.job_category),20):"-"}),(0,F.jsx)(I,{title:e.pref_qualification,children:e.pref_qualification?(0,f.Th)((0,f.Ls)(e.pref_qualification),20):"-"}),(0,F.jsx)(I,{children:e.job_city}),(0,F.jsx)(I,{children:e.area}),(0,F.jsx)(I,{children:(0,F.jsx)(f.H3,{dateValue:e.created_time})}),(0,F.jsx)(I,{children:"C"===e.job_status?(0,F.jsx)("span",{className:"text-danger",children:(0,F.jsx)("b",{children:"Closed"})}):(0,F.jsx)("span",{className:"text-success",children:(0,F.jsx)("b",{children:"Open"})})})]},t)})))}):(0,F.jsx)(o.Z,{children:(0,F.jsx)(s.Z,{colSpan:8,align:"center",children:(0,F.jsx)("p",{className:"text-danger",children:"Not found"})})})})]})}),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:j,children:(0,F.jsx)(d.Z,{color:"inherit"})})})]})})}),(0,F.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3 position-absolute bottom-0 start-50 translate-middle-x",children:(0,F.jsx)(u.Z,{spacing:2,children:(0,F.jsx)(m.Z,{count:t,variant:"outlined",shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){const s=t;a(v.R6.setJobsDataPage(s))},size:"medium"})})})]})]})}}}]);
//# sourceMappingURL=104.7e60e7d4.chunk.js.map